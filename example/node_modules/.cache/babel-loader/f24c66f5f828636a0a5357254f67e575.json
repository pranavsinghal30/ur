{"ast":null,"code":"import _classCallCheck from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/src/ReactSimpleMap/ReactSimpleMap.react.js\";\nimport * as React from \"react\";\nimport { ComposableMap, ZoomableGroup, Geographies, Geography } from \"react-simple-maps\";\nimport data from \"./data/world-50m.json\";\nimport { scaleLinear } from \"d3-scale\";\nimport { Component } from \"react\";\n\nfunction value(p, k) {\n  if (k == 'end_date') {\n    if (p['start_date'].getTime() == new Date().getTime()) {\n      return parseInt((p[k] - p['optimum_start']) / (1000 * 60 * 60 * 24)).toLocaleString(navigator.language, {\n        minimumFractionDigits: 0\n      });\n    }\n\n    return parseInt((p[k] - p['start_date']) / (1000 * 60 * 60 * 24)).toLocaleString(navigator.language, {\n      minimumFractionDigits: 0\n    });\n  } else if (k == 'start_date') {\n    console.log(\"inside if \" + (p['start_date'] - new Date()) / (1000 * 60 * 60 * 24));\n\n    if ((p['start_date'] - new Date()) / (1000 * 60 * 60 * 24) < 2) {\n      console.log(\"inside if \" + (p['start_date'] - new Date()) / (1000 * 60 * 60 * 24));\n      return p['optimum_start'].getDate() + \"/\" + (p['optimum_start'].getMonth() + 1);\n    }\n\n    return p[k].getDate() + \"/\" + (p[k].getMonth() + 1);\n  } else if (k == 'Total_Saved') {\n    return ((p['end_date'] - p['start_date']) / (1000 * 60 * 60 * 24) * p['daily'] * 0.85 + (p['optimum_end'] - p['optimum_start']) / (1000 * 60 * 60 * 24) * p['daily'] * 0.4).toLocaleString(navigator.language, {\n      minimumFractionDigits: 0\n    });\n  } else if (k == 'daily') {\n    return p[k].toLocaleString(navigator.language, {\n      minimumFractionDigits: 0\n    });\n  } else if (k == 'optimum_start' || k == 'optimum_end') {\n    return \"\";\n  } else {\n    return p[k].toString();\n  }\n}\n\nvar max = 0;\nvar min = Number.MAX_VALUE;\nvar mydata = [{\n  name: \"China\",\n  daily: 5731496,\n  start_date: new Date(2020, 0, 20),\n  end_date: new Date(2020, 2, 20),\n  Total_Saved: 0,\n  optimum_start: new Date(2020, 2, 20),\n  optimum_end: new Date()\n}, {\n  name: \"India\",\n  daily: 1823594,\n  start_date: new Date(2020, 2, 22),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"United States\",\n  daily: 12898866,\n  start_date: new Date(),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(2020, 2, 20),\n  optimum_end: new Date()\n}, {\n  name: \"Japan\",\n  daily: 981746,\n  start_date: new Date(),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(2020, 2, 20),\n  optimum_end: new Date()\n}, {\n  name: \"Italy\",\n  daily: 309127 / 0.85,\n  start_date: new Date(2020, 2, 9),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"Spain\",\n  daily: 239046 / 0.85,\n  start_date: new Date(2020, 2, 14),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"France\",\n  daily: 333728 / 0.85,\n  start_date: new Date(2020, 2, 17),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"Germany\",\n  daily: 428368 / 0.85,\n  start_date: new Date(2020, 2, 22),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"UK\",\n  daily: 340751 / 0.85,\n  start_date: new Date(2020, 2, 23),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"Belgium\",\n  daily: 59255 / 0.85,\n  start_date: new Date(2020, 2, 18),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(),\n  optimum_end: new Date()\n}, {\n  name: \"Rest OF Europe\",\n  daily: 993706 / 0.4,\n  start_date: new Date(),\n  end_date: new Date(),\n  Total_Saved: 0,\n  optimum_start: new Date(2020, 2, 22),\n  optimum_end: new Date()\n}];\nvar wrapperStyles = {\n  width: \"100%\",\n  height: \"auto\",\n  maxWidth: \"100%\",\n  margin: \"0 auto\",\n  fontFamily: \"Roboto, sans-serif\"\n};\n{\n  /*}\n  function calc(p) {\n   return (\n     ((((p['end_date']-p['start_date'])/(1000*60*60*24))*p['daily']*0.85)+(((p['optimum_end']-p['optimum_start'])/(1000*60*60*24))*p['daily']*0.4))\n   );\n  }\n  //const values = []\n  function change() {\n   this.props.data.map(s => (s.Total_Saved = calc(s)));\n  }\n  function range() {\n   this.props.data.forEach(function(o) {\n     min = Math.min(min, calc(o) == 0 ? Number.MAX_VALUE : calc(o));\n     max = Math.max(max, calc(o));\n   });\n   //console.log(\"max\" + max);\n   //console.log(\"min\" + min);\n  }*/\n}\n\nvar ReactSimpleMap =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactSimpleMap, _Component);\n\n  function ReactSimpleMap(props) {\n    var _this;\n\n    _classCallCheck(this, ReactSimpleMap);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactSimpleMap).call(this, props));\n\n    _this.handleClick = function (geography, evt) {\n      var x = evt.clientX;\n      var y = evt.clientY + window.pageYOffset;\n\n      _this.sendData(geography.properties.name); //console.log(geography.properties.ISO_A3);\n\n\n      _this.setState({\n        country: geography.properties.name,\n        origin: {\n          x: x,\n          y: y\n        },\n        content: geography.properties.name + \": \" + (_this.props.data.find(function (s) {\n          return s.country == geography.properties.name;\n        }) ? _this.props.data.find(function (s) {\n          return s.country == geography.properties.name;\n        })['Total_Saved'].toLocaleString(navigator.language, {\n          minimumFractionDigits: 0\n        }) + \" MT\" : \"NA\")\n      });\n    };\n\n    _this.handleMove = function (geography, evt) {\n      var x = evt.clientX;\n      var y = evt.clientY + window.pageYOffset; //console.log(geography.properties.ISO_A3);\n\n      _this.setState({\n        country: geography.properties.name,\n        origin: {\n          x: x,\n          y: y\n        },\n        content: geography.properties.name + \": \" + (_this.props.data.find(function (s) {\n          return s.country == geography.properties.name;\n        }) ? _this.props.data.find(function (s) {\n          return s.country == geography.properties.name;\n        })['Total_Saved'].toLocaleString(navigator.language, {\n          minimumFractionDigits: 0\n        }) + \" Million MT\" : \"NA\")\n      });\n    };\n\n    _this.handleLeave = function () {\n      _this.setState({\n        content: \"\"\n      });\n    };\n\n    _this.state = {\n      origin: {\n        x: 0,\n        y: 0\n      },\n      content: \"\"\n    };\n\n    _this.range();\n\n    _this.popScale = scaleLinear().domain([min, (max + min) / 30, max]).range([\"#87f50b\", \"#1b8800\", \"#1E5631\"]);\n    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.sendData = _this.sendData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.calc = _this.calc.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.change = _this.change.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.range = _this.range.bind(_assertThisInitialized(_assertThisInitialized(_this))); //var this.props.data = this.props.data\n\n    return _this;\n  }\n\n  _createClass(ReactSimpleMap, [{\n    key: \"sendData\",\n    value: function sendData(e) {\n      this.props.parentCallback(e);\n    }\n  }, {\n    key: \"calc\",\n    value: function calc(p) {\n      if (typeof p == 'undefined') {\n        console.log(\"p is undefined\");\n        return 0;\n      }\n\n      return (p['end_date'] - p['start_date']) / (1000 * 60 * 60 * 24) * p['daily'] * 1 + (p['optimum_end'] - p['optimum_start']) / (1000 * 60 * 60 * 24) * p['daily'] * 0.5;\n    }\n  }, {\n    key: \"range\",\n    value: function range() {\n      this.props.data.forEach(function (o) {\n        min = Math.min(min, o['Total_Saved'] == 0 ? Number.MAX_VALUE : o['Total_Saved']);\n        max = Math.max(max, o['Total_Saved']);\n        console.log(o['Total_Saved'] != 0 ? o['Total_Saved'] : \"zeroooooo\");\n      });\n      console.log(\"max\" + max);\n      console.log(\"min\" + min);\n    } //const values = []\n\n  }, {\n    key: \"change\",\n    value: function change() {\n      var _this2 = this;\n\n      this.props.data.map(function (s) {\n        return s.Total_Saved = _this2.calc(s);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      //this.change();\n      //this.range();\n      var popScale = scaleLinear().domain([min, (max + min) / 2, max]).range([\"#A4DE02\", \"#76BA1B\", \"#1E5631\"]);\n      return React.createElement(\"div\", {\n        style: wrapperStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.state.content && React.createElement(\"div\", {\n        style: {\n          position: \"fixed\",\n          top: this.state.origin.y + 20 - window.scrollY,\n          left: this.state.origin.x,\n          zIndex: 999999,\n          textAlign: \"center\",\n          border: \"1px grey solid\",\n          borderRadius: 3,\n          padding: 4,\n          backgroundColor: \"#fff\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, this.state.content), React.createElement(ComposableMap, {\n        projectionConfig: {\n          scale: 205,\n          rotation: [-11, 0, 0]\n        },\n        style: {\n          width: \"100%\",\n          height: \"auto\"\n        },\n        width: 900,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(ZoomableGroup, {\n        center: [0, 20],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(Geographies, {\n        geography: data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, function (geographies, projection) {\n        return geographies.map(function (geography, i) {\n          var country = _this3.props.data.find(function (s) {\n            return s.country == geography.properties.name;\n          });\n\n          return React.createElement(Geography, {\n            key: geography.properties.ISO_A3 + i,\n            geography: geography,\n            onMouseMove: _this3.handleMove,\n            onMouseDown: _this3.handleClick,\n            onMouseLeave: _this3.handleLeave,\n            projection: projection,\n            style: {\n              default: {\n                fill: country ? _this3.popScale(country['Total_Saved']) : \"#e8f4f8\",\n                stroke: \"#607D8B\",\n                strokeWidth: 0.75,\n                outline: \"none\"\n              },\n              hover: {\n                fill: country ? _this3.popScale(country['Total_Saved'] - 50) : \"#e8f4f8\",\n                stroke: \"#607D8B\",\n                strokeWidth: 0.75,\n                outline: \"none\"\n              },\n              pressed: {\n                fill: \"#263238\",\n                stroke: \"#607D8B\",\n                strokeWidth: 0.75,\n                outline: \"none\"\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 236\n            },\n            __self: this\n          });\n        });\n      }))));\n    }\n  }]);\n\n  return ReactSimpleMap;\n}(Component);\n\nexport default ReactSimpleMap;","map":{"version":3,"sources":["/home/pranavagarwal/Downloads/dashboard-react/tabler-react/example/src/ReactSimpleMap/ReactSimpleMap.react.js"],"names":["React","ComposableMap","ZoomableGroup","Geographies","Geography","data","scaleLinear","Component","value","p","k","getTime","Date","parseInt","toLocaleString","navigator","language","minimumFractionDigits","console","log","getDate","getMonth","toString","max","min","Number","MAX_VALUE","mydata","name","daily","start_date","end_date","Total_Saved","optimum_start","optimum_end","wrapperStyles","width","height","maxWidth","margin","fontFamily","ReactSimpleMap","props","handleClick","geography","evt","x","clientX","y","clientY","window","pageYOffset","sendData","properties","setState","country","origin","content","find","s","handleMove","handleLeave","state","range","popScale","domain","bind","calc","change","e","parentCallback","forEach","o","Math","map","position","top","scrollY","left","zIndex","textAlign","border","borderRadius","padding","backgroundColor","scale","rotation","geographies","projection","i","ISO_A3","default","fill","stroke","strokeWidth","outline","hover","pressed"],"mappings":"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","sourcesContent":["// @flow\nimport * as React from \"react\";\nimport {\n  ComposableMap,\n  ZoomableGroup,\n  Geographies,\n  Geography,\n} from \"react-simple-maps\";\nimport data from \"./data/world-50m.json\";\nimport { scaleLinear } from \"d3-scale\";\nimport { Component } from \"react\";\nfunction value(p,k)\n  {\n   if (k == 'end_date')\n   {\n      if ((p['start_date'].getTime()) == (new Date().getTime()))\n      {\n        return parseInt((p[k]-p['optimum_start'])/(1000*60*60*24)).toLocaleString(navigator.language, { minimumFractionDigits: 0 })\n\n      }\n       return parseInt((p[k]-p['start_date'])/(1000*60*60*24)).toLocaleString(navigator.language, { minimumFractionDigits: 0 })\n   } \n   else if ( k == 'start_date')\n   {  console.log(\"inside if \"+((p['start_date']-(new Date()))/(1000*60*60*24)))\n       if (((p['start_date']-(new Date()))/(1000*60*60*24)) < 2)\n       {console.log(\"inside if \"+((p['start_date']-(new Date()))/(1000*60*60*24)))\n         return p['optimum_start'].getDate()+\"/\"+(p['optimum_start'].getMonth()+1)\n        }\n       \n       return p[k].getDate()+\"/\"+(p[k].getMonth()+1)\n   }\n   else if ( k == 'Total_Saved')\n   {\n       return ((((p['end_date']-p['start_date'])/(1000*60*60*24))*p['daily']*0.85)+(((p['optimum_end']-p['optimum_start'])/(1000*60*60*24))*p['daily']*0.4)).toLocaleString(navigator.language, { minimumFractionDigits: 0 })\n   }\n   else if (k == 'daily')\n   {\n     return (p[k]).toLocaleString(navigator.language, { minimumFractionDigits: 0 })\n   }\n   else if (k == 'optimum_start' || k == 'optimum_end')\n   {\n     return \"\"\n   }\n   else \n   {\n       return p[k].toString()\n   }\n  }\nvar max = 0;\nvar min = Number.MAX_VALUE;\nconst mydata = [\n\n    {name : \"China\", daily : 5731496, start_date : new Date(2020,0,20),end_date : new Date(2020,2,20),Total_Saved : 0,optimum_start:new Date(2020,2,20),optimum_end:new Date()},\n    {name : \"India\", daily : 1823594, start_date : new Date(2020,2,22),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"United States\", daily : 12898866, start_date : new Date(),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(2020,2,20),optimum_end:new Date()},\n    {name : \"Japan\", daily : 981746, start_date : new Date(),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(2020,2,20),optimum_end:new Date()},\n    {name : \"Italy\", daily : 309127/0.85, start_date : new Date(2020,2,9),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"Spain\", daily : 239046/0.85, start_date : new Date(2020,2,14),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"France\", daily : 333728/0.85, start_date : new Date(2020,2,17),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"Germany\", daily : 428368/0.85, start_date : new Date(2020,2,22),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"UK\", daily : 340751/0.85, start_date : new Date(2020,2,23),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"Belgium\", daily :59255/0.85, start_date : new Date(2020,2,18),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(),optimum_end:new Date()},\n    {name : \"Rest OF Europe\", daily : 993706/0.4, start_date : new Date(),end_date : new Date(),Total_Saved : 0,optimum_start:new Date(2020,2,22),optimum_end:new Date()}\n];\nconst wrapperStyles = {\n  width: \"100%\",\n  height: \"auto\",\n  maxWidth: \"100%\",\n  margin: \"0 auto\",\n  fontFamily: \"Roboto, sans-serif\",\n};\n\ntype State = {\n  origin: { x: number, y: number },\n  content: string,\n};\n{/*}\nfunction calc(p) {\n  return (\n    ((((p['end_date']-p['start_date'])/(1000*60*60*24))*p['daily']*0.85)+(((p['optimum_end']-p['optimum_start'])/(1000*60*60*24))*p['daily']*0.4))\n  );\n}\n//const values = []\nfunction change() {\n  this.props.data.map(s => (s.Total_Saved = calc(s)));\n}\n\nfunction range() {\n  this.props.data.forEach(function(o) {\n    min = Math.min(min, calc(o) == 0 ? Number.MAX_VALUE : calc(o));\n    max = Math.max(max, calc(o));\n  });\n  //console.log(\"max\" + max);\n  //console.log(\"min\" + min);\n}*/}\nclass ReactSimpleMap extends Component {\n  constructor(props)\n  {\n    super(props)\n    this.state = {\n      origin: { x: 0, y: 0 },\n      content: \"\",\n\n    }\n    this.range();\n    this.popScale = scaleLinear()\n    .domain([min, (max + min) / 30, max])\n    .range([\"#87f50b\", \"#1b8800\", \"#1E5631\"]);\n    \n    this.handleClick = this.handleClick.bind(this)\n    this.sendData = this.sendData.bind(this)\n    this.calc = this.calc.bind(this)\n    this.change = this.change.bind(this)\n    this.range = this.range.bind(this)\n    //var this.props.data = this.props.data\n  }\n  sendData(e){\n    this.props.parentCallback(e);}\n\n  calc(p){\n        if (typeof p == 'undefined' )\n        { console.log(\"p is undefined\")\n            return 0\n          }\n        return ((((p['end_date']-p['start_date'])/(1000*60*60*24))*p['daily']*1)+(((p['optimum_end']-p['optimum_start'])/(1000*60*60*24))*p['daily']*0.5))\n      \n    }\n  range(){\n      this.props.data.forEach(function(o) {\n        min = Math.min(min, o['Total_Saved'] == 0 ? Number.MAX_VALUE : o['Total_Saved']);\n        max = Math.max(max, o['Total_Saved']);\n        console.log(o['Total_Saved'] != 0? o['Total_Saved']: \"zeroooooo\") \n      });\n      console.log(\"max\" + max);\n      console.log(\"min\" + min);\n\n    }\n    //const values = []\n  change(){\n      this.props.data.map(s => (s.Total_Saved = this.calc(s)));\n    }\n    \n\n  handleClick = (\n    geography: { properties: { name: string, pop_est: string } },\n    evt: SyntheticMouseEvent<>\n  ): void => {\n    const x = evt.clientX;\n    const y = evt.clientY + window.pageYOffset;\n    this.sendData(geography.properties.name)\n    //console.log(geography.properties.ISO_A3);\n    this.setState({\n      country : geography.properties.name,\n      origin: { x, y },\n      content:\n        geography.properties.name +\n        \": \" +\n        (this.props.data.find(s => s.country == geography.properties.name)\n          ? this.props.data.find(s => s.country == geography.properties.name)['Total_Saved'].toLocaleString(navigator.language, { minimumFractionDigits: 0 })+\" MT\"\n          : \"NA\"),\n    });\n  };\n\n  \n  handleMove = (\n    geography: { properties: { name: string, pop_est: string } },\n    evt: SyntheticMouseEvent<>\n  ): void => {\n    const x = evt.clientX;\n    const y = evt.clientY + window.pageYOffset;\n    //console.log(geography.properties.ISO_A3);\n    this.setState({\n      country : geography.properties.name,\n      origin: { x, y },\n      content:\n        geography.properties.name +\n        \": \" +\n        (this.props.data.find(s => s.country == geography.properties.name)\n          ? this.props.data.find(s => s.country == geography.properties.name)['Total_Saved'].toLocaleString(navigator.language, { minimumFractionDigits: 0 })+\" Million MT\"\n          : \"NA\"),\n    });\n  };\n\n  handleLeave = ():void => {\n    this.setState({ content: \"\" });\n  };\n\n\n  render(){\n    //this.change();\n    //this.range();\n    \n    const popScale = scaleLinear()\n      .domain([min, (max + min) / 2, max])\n      .range([\"#A4DE02\", \"#76BA1B\", \"#1E5631\"]);\n\n    return (\n      <div style={wrapperStyles}>\n        {this.state.content && (\n          <div\n            style={{\n              position: \"fixed\",\n              top: this.state.origin.y + 20 - window.scrollY,\n              left: this.state.origin.x,\n              zIndex: 999999,\n              textAlign: \"center\",\n              border: \"1px grey solid\",\n              borderRadius: 3,\n              padding: 4,\n              backgroundColor: \"#fff\",\n            }}\n          >\n            {this.state.content}\n          </div>\n        )}\n\n        <ComposableMap\n          projectionConfig={{\n            scale: 205,\n            rotation: [-11, 0, 0],\n          }}\n          style={{\n            width: \"100%\",\n            height: \"auto\",\n          }}\n          width={900}\n        >\n          <ZoomableGroup center={[0, 20]}>\n            <Geographies geography={data}>\n              {(geographies, projection) =>\n                geographies.map((geography, i) => {\n                  const country = this.props.data.find(\n                    s => s.country == geography.properties.name\n                  );\n                  return (\n                    <Geography\n                      key={geography.properties.ISO_A3 + i}\n                      geography={geography}\n                      onMouseMove={this.handleMove}\n                      onMouseDown = {this.handleClick}\n                      onMouseLeave={this.handleLeave}\n                      projection={projection}\n                      style={{\n                        default: {\n                          fill: country ? this.popScale(country['Total_Saved']) : \"#e8f4f8\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.75,\n                          outline: \"none\",\n                        },\n                        hover: {\n                          fill: country\n                            ? this.popScale(country['Total_Saved']-50)\n                            : \"#e8f4f8\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.75,\n                          outline: \"none\",\n                        },\n                        pressed: {\n                          fill: \"#263238\",\n                          stroke: \"#607D8B\",\n                          strokeWidth: 0.75,\n                          outline: \"none\",\n                        },\n                      }}\n                    />\n                  );\n                })\n              }\n            </Geographies>\n          </ZoomableGroup>\n        </ComposableMap>\n      </div>\n    );\n  }\n}\n\nexport default ReactSimpleMap;\n"]},"metadata":{},"sourceType":"module"}